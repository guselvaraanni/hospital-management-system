{% extends "base.html" %}
{% block title %}
Booking
{% endblock title %}
{% block body %}

{% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}


<div class="container">
    <div class="table-responsive">
        <table class="table mt-3 table-bordered shadow">
            <thead>
                <tr class="table-primary">
                    <th scope="col">Patient_id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Gender</th>
                    <th scope="col">Appointment Date</th>
                    <th scope="col">AppointmentTime</th>
                    <th scope="col">Slot</th>
                    <th scope="col">Disease</th>
                    <th scope="col">Doctor</th>
                    <th scope="col">Phone No</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
                </tr>
            </thead>
            <tbody>
                {% if patients %}
                {% for post in patients %}
                <tr>
                    <th scope="row">{{post.pid}}</th>
                    <td>{{post.name}}</td>
                    <td>{{post.email}}</td>
                    <td>{{post.gender}}</td>
                    <td>{{post.appointmentDate}}</td>
                    <td>{{post.appointmentTime}}</td>
                    <td>{{post.slot}}</td>
                    <td>{{post.disease}}</td>
                    <td>{{post.selectdoctor}}</td>
                    <td>{{post.phonenumber}}</td>
                    <td><a href="/edit/{{post.pid}}" class="btn btn-primary">Edit</a></td>
                    <td>
                        <a href="/delete/{{post.pid}}"
                        OnClick="return confirm('Are you sure to Delete data');" class="btn btn-danger">Delete</a>
                    </td>
                </tr>
                {% endfor %}
                {% else %}
                <tr>
                    <td colspan="10">No bookings found</td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

{% endblock body %}
